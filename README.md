# 关于时间分片:watch:

>实际工作中大量不分页数据渲染的场景我基本没遇到过,在这里做一个时间分片方案的记录(主要针对条目DOM结构并不复杂的情况)。
>时间分片，就是把数据拆成很多份，分批渲染。总耗时会高于一次性渲染，但是对于用户体验来说，最重要的是首次渲染时间和滚动更新的渲染时间(规避了一次性渲染大量DOM时出现的持续白屏问题)。


>虽然通过了文档碎片跟requestAnimationFrame实现了时间分片，但是还有一个问题就是，已经不在可视区的DOM结构其实是可以从页面中移除的，只保留可视区的结构。想了下这种移除应该是移除DOM，数据还在，下次滚动再把进入可视区的DOM渲染回来。但是实测即便不删除，对于这种简单DOM的大批量渲染，即便数据量达到了100w+，我这种时间切片的实现方式还是可以hold住...
